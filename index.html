<!DOCTYPE html>
<html>

<head>
        <link href="https://fonts.googleapis.com/css?family=Overpass&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=EB+Garamond&display=swap" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css">

    <title>Simon Rolph</title>
    <meta charset="UTF-8">
    <meta name="description" content="Enter the Kernel">
    <meta name="author" content="Simon Rolph">

    <link rel="apple-touch-icon" sizes="180x180" href="pictures/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="pictures/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="pictures/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="pictures/favicon_io/site.webmanifest">
</head>

<body>


    <main class="container">
        <!-- Create a div where the graph will take place -->
        <div class="row">
            <div class="columnw">
                <div id="my_dataviz"></div>
                <p style="margin: 0; background-color:rgb(26, 26, 26); padding:10px; color:rgb(146, 146, 146)">Integral projection models (IPMs) describe the growth, survival and reproduction over a discrete time interval. I use simulated models like these to determine how we can use real demographic data such as the COMPADRE Plant Matrix Database. </p>
            </div>
            <div class="column">
                <img class="responsiveimg" src="pictures/YUyxkYhi_400x400.png">
                <h1>Simon Rolph</h1>
                <p>PhD student at the University of Sheffield. Population biologist. Developing tools to make better use of demographic data in ecological contexts.</p>
                <p>Coder, fern lover and tram enthusiast ðŸš‹</p>
                
            </div>
        </div>

        <div class="row">
            <div class="column" style="text-align: center;" >
                <a href="https://twitter.com/simon_rolph"><img  src="pictures/socials/twitter-brands.svg" class="socialicon"></a>
                <a href="https://github.com/simonrolph"><img src="pictures/socials/github-brands.svg" class="socialicon"></a>
                <a href="https://www.youtube.com/channel/UCMhL2zYYdpmicqLPByJpb9g"><img src="pictures/socials/youtube-brands.svg" class="socialicon"></a>
                <a href="https://www.researchgate.net/profile/Simon_Rolph"><img src="pictures/socials/researchgate-brands.svg" class="socialicon"></a>
                <a href="https://orcid.org/0000-0001-6755-9456"><img src="pictures/socials/orcid-brands.svg" class="socialicon"></a>  
                
                <a href="https://www.linkedin.com/in/simon-rolph-98390098/"><img src="pictures/socials/linkedin-in-brands.svg" class="socialicon">   </a>             
            </div>
        </div>

        <div class="row">
            <div class="column" >
                <h3>Research</h3>
            </div>
        </div>


        <div class="row" style="background-color: rgb(26, 26, 26);">
            <div class="column">
                
                <img class="responsiveimg" src="pictures/BESquant18.jpg">
                <img class="responsiveimg" src="pictures/compadrecomadre.png">
                <img class="responsiveimg" src="pictures/TuosLogo.png">
            </div>
            <div class="columnw">
                <p>I'm a quantitative ecologist looking at how comparative analyses of population models can provide insight into fundamental and applied questions about the nature of life history trade-offs and short-term responses to environmental change. I have an undergraduate degree from the University of Exeter in conservation biology and ecology.
                </p>
                <p>
                My research has used the <a href="https://www.compadre-db.org/">COMPADRE Plant Matrix Database</a> alongside population modelling tools, integral projection models (IPMs) and matrix population models (MPMs), to produce simulated population models as an investigative framework for identifying best practices for comparative analyses. For my final piece of PhD research I have been using a dataset tracking the fates of hundreds of <a  href="http://soaysheep.biology.ed.ac.uk/">Soay sheep</a> over two decades.</p>


                <p>I've presented at a range of conferences, such as the Ecological Society of America's Annual Meeting in New Orleans and the British Ecological Societyâ€™s Annual meetings from 2016-2019 (plus special interest groups: Macrocology in 2019 and Quantative Ecology in 2018. At these conferences I've helped run workshops about the COMPADRE Plant Matrix Database.</p>

            </div>
        </div>


        <div class="row" >
            <div class="column">
                    <h3 >Projects</h3>
            </div>
        </div>



        <div class="row" style="background-color: rgb(26, 26, 26);">
            <div class="column">
                    <img class="responsiveimg" src="pictures/inatcounter.png">
                    <img class="responsiveimg" src="pictures/compadre.png">
                
            </div>
            <div class="columnw">
                <p><a href="https://simonrolph.github.io/inatcounter/">iNaturalist Live</a> - a constantly updating map and ticker showing activity of the wildlife recording website iNaturalist. Made using JavaScript and makes us of the iNaturalist API.</p>
                <p><a href="http://lifecycle.ex.ac.uk/">COMPADRE Plant Matrix Database prototype</a> user interface. The web app designed to improve accessing and contextualising plant demographic data. Built in the Python web framework: 'Flask'.</p>
                <p><a href="https://simonrolph.github.io/describewild/">Describe Wild</a> - a prototype web page designed to be a place to share and consume media about wildlife, ecology and conservation. Exploreable map and searchable by ecological relvant meta-data such as taxonomic groups featured.</p>
                <!--<p>Drawing an IPM kernel with d3.js</p>
                <p>Visualsing MPMs as Sankey Diagrams</p>-->

            </div>
        </div>

        <div class="row" >
                <div class="column">
                    <h3 >Experience</h3>
            </div>
        </div>



        <div class="row" style="background-color: rgb(26, 26, 26);">
            <div class="column">
                
                <img class="responsiveimg" src="pictures/BESss.jpg">
                <img class="responsiveimg" src="pictures/zombie2.jpg">
                <img class="responsiveimg" src="pictures/jars.jpg">
            </div>
            <div class="columnw">
                <p>Mentor and teaching asssiant on the <a href="https://www.britishecologicalsociety.org/learning-and-resources/career-development/ugsummer-school/">British Ecological Society undergraduate summer school</a>. Delivered a session on why ecologists use modelling and simulations.</p>
                <p>Biomathematics outreach at Green Man Festival teaching festival-goers how to avert the zombie apocalypse using mathematics.</p>
                <p>Data processing and front-end development as part of a 10 week summer internship working with the COMPADRE Plant Matrix Database.</p>
                <p>Land management team member with the Wildlife Trust for Sheffield and Rotherham and the Wildlife Trust for Beds, Cambs & Northants.</p>
                <p>Plant rep and minibus driver for FXU EcoSoc. I ran workshops on creating an 'ecosystem in a jar'. </p>
                <p>Aquarist at Falmouth Aquarium. Maintained native and tropical aquariums, engaged with visitors and supervised volunteers.</p>
                <p>Bottlenose dolphin research assistant at Cardigan Bay Marine Wildlife Centre.</p>
                <p>Ecologist on a research trip to the Perhentian Islands in Malaysia.</p>
                <p>Data entry volunteer for the ecology group at the Wildlife Trust for Beds, Cambs & Northants.</p>

            </div>
        </div>
        <br>
        <!--<p style="text-align: center; color:rgb(146, 146, 146)">Website made by me :)</p>-->


    </main>

    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>

    <!-- Load color palettes -->
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>


    <script>


        // set the dimensions and margins of the graph
        var margin = {
                top: 0,
                right: 0,
                bottom: 0,
                left: 0
            },
            width = 800 - margin.left - margin.right,
            height = 800 - margin.top - margin.bottom;

        // append the svg object to the body of the page
        var svg = d3.select("#my_dataviz")
            .append("div")
            // Container class to make it responsive.
            .classed("svg-container", true)
            .append("svg")
            // Responsive SVG needs these 2 attributes and no width and height attr.
            .attr("preserveAspectRatio", "xMinYMin meet")
            .attr("viewBox", "0 0 800 800")
            // Class to make it responsive.
            .classed("svg-content-responsive", true)
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform",
                "translate(" + margin.left + "," + margin.top + ")");

        // generate data
        survint = Math.random() - 3;
        survz = Math.random();

        growint = Math.random() + 1;
        growz = 1 - growint / 2;
        growsd = Math.random() / 3 + 0.1;

        reprint = Math.random() - 3;
        reprz = Math.random();

        noffint = Math.random();
        noffz = Math.random();

        rcszint = 0.75 + Math.random() / 2;
        rcszsd = Math.random() / 3 + 0.1;




        // dnrom
        var pi = 3.1415926;
        var e = 2.71828;

        function dnorm(x, mean, sd) {
            return 1 / Math.sqrt(2 * pi * Math.pow(sd, 2)) * Math.pow(e, -(Math.pow(x - mean, 2) / (2 * Math.pow(sd,
                2))))
        }


        // survival function
        function survFunction(z) {
            linear = survint + survz * z
            return 1 / (1 + Math.pow(e, -linear))
        };

        // growth function
        function growthFunction(z, z1) {
            mu = growint + growz * z; // mean size next year
            sig = growsd; // sd about mean
            pdengrow = dnorm(z1, mean = mu, sd = sig); // pdf that you are size z1 given you were size z
            return pdengrow; // The function returns the product of p1 and p2
        };

        // probability of reproduction function
        function reprFunction(z) {
            linear = reprint + reprz * z
            return 1 / (1 + Math.pow(e, -linear))
        };

        // number of offspring function
        function noffFunction(z) {
            linear = noffint + noffz * z
            return Math.pow(e, linear) * 0.1
        };

        // size at birth function
        function rcszFunction(z1) {
            mu = rcszint; // mean size next year
            sig = rcszsd; // sd about mean
            pdengrow = dnorm(z1, mean = mu, sd = sig); // pdf that you are size z1 given you were size z
            return pdengrow;
        }


        function Pkern(z, z1) {
            return survFunction(z) * growthFunction(z, z1)
        }

        function Fkern(z, z1) {
            return reprFunction(z) * noffFunction(z) * rcszFunction(z1)
        }

        let numbers = [];
        let numbers2 = [];
        let result = [];

        var csvfile = "group,variable,value\n"

        kerndim = 100;
        maxsize = 3;
        minsize = 0;

        for (let i = 0; i < (kerndim * kerndim); i++) {
            numbers.push(((i % kerndim) + 1) / kerndim * maxsize);
            numbers2.push((Math.floor((i / kerndim) + 1)) / kerndim * maxsize);
            result.push(Pkern(numbers[i], numbers2[i]) + Fkern(numbers[i], numbers2[i]));
            csvfile = csvfile.concat("X", numbers[i], ",Y", numbers2[i], ",", result[i], "\n");
        }



        var data = d3.csvParse(csvfile);
        console.log(data);

        // Labels of row and columns -> unique identifier of the column called 'group' and 'variable'
        var myGroups = d3.map(data, function (d) {
            return d.group;
        }).keys()

        var myVars = d3.map(data, function (d) {
            return d.variable;
        }).keys()

        // Build X scales and axis:
        var x = d3.scaleBand()
            .range([0, width])
            .domain(myGroups)
            .padding(0);

        // Build Y scales and axis:
        var y = d3.scaleBand()
            .range([height, 0])
            .domain(myVars)
            .padding(0);

        // Build color scale
        var myColor = d3.scaleSequential()
            .interpolator(d3.interpolateViridis)
            .domain([0, Math.max(...result)])

        // add the squares
        svg.selectAll()
            .data(data, function (d) {
                return d.group + ':' + d.variable;
            })
            .enter()
            .append("rect")
            .attr("x", function (d) {
                return x(d.group)
            })
            .attr("y", function (d) {
                return y(d.variable)
            })
            .attr("rx", 0)
            .attr("ry", 0)
            .attr("width", x.bandwidth() + 1)
            .attr("height", y.bandwidth() + 1)
            .style("fill", function (d) {
                return myColor(d.value)
            })
            .style("stroke-width", 4)
            .style("stroke", "none")
            .style("opacity", 1)
        /* 
        svg.append("text")
            .attr("x", 370)
            .attr("y", 770)
            .attr("text-anchor", "middle")
            .style("font-size", "30px")
            .style("fill", "grey")
            .text("z");

        svg.append("text")
            .attr("x", -20)
            .attr("y", 400)
            .attr("text-anchor", "middle")
            .style("font-size", "30px")
            .style("fill", "grey")
            .text("z'");

          
        svg.append("text")
            .attr("x", 0)
            .attr("y", 770)
            .attr("text-anchor", "middle")
            .style("font-size", "17px")
            .style("fill", "grey")
            .text("0");

        svg.append("text")
            .attr("x", 740)
            .attr("y", 770)
            .attr("text-anchor", "middle")
            .style("font-size", "17px")
            .style("fill", "grey")
            .text("1");

        svg.append("text")
            .attr("x", -20)
            .attr("y", 5)
            .attr("text-anchor", "middle")
            .style("font-size", "17px")
            .style("fill", "grey")
            .text("1");

        svg.append("text")
            .attr("x", -20)
            .attr("y", 745)
            .attr("text-anchor", "middle")
            .style("font-size", "17px")
            .style("fill", "grey")
            .text("0");

        */

        /* make all links open new tab */
        var links = document.links;

        for (var i = 0, linksLength = links.length; i < linksLength; i++) {
            if (links[i].hostname != window.location.hostname) {
                links[i].target = '_blank';
            } 
        }

    </script>

</body>